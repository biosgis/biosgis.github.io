<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>jsapis</title>
    <meta name="author" content="dfgchiang">
    <meta name="description" content="">
    <meta name="generator" content="biosgis-20190927">
    <meta name="robots" content="noindex, nofollow, noarchive">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://js.arcgis.com/4.13/esri/css/main.css">
    <script src="https://js.arcgis.com/4.13/"></script>
    <link rel="stylesheet" href="./css/def.css">
    <script src="https://dfgchiang.github.io/js/abc.js"></script>
    <style>
        body {
            font-family: Georgia, monospace;
            font-size: 1.23em;
            line-height: 1.5em;
        }

        h1 {
            margin: 1%;
            padding: 1%;
        }

    </style>
    <script>
        window.addEventListener('load', function() {
            om = poplinks();
        });

    </script>
</head>

<body>
    <header>
        <h1>
            JavaScript API References and Dev Log
        </h1>
        <div style="position: absolute; bottom: 5px; right: 5px; font-size: smaller;">
            <script>
                document.write(document.lastModified);

            </script>
        </div>
    </header>
    <main>
        <aside>
        </aside>
        <ol>
            <li>
                <a href="https://developers.arcgis.com/javascript/latest/api-reference/esri-Map.html#basemap">
                    Basemaps
                </a>
            </li>
            <li>
                <a href="https://developers.arcgis.com/javascript/latest/sample-code/intro-mapview/index.html">
                    Intro to MapView - Create a 2D map
                </a> 2019-09-30
            </li>
            <li>
                <a href="https://developers.arcgis.com/javascript/latest/guide/esri-icon-font/">Esri Icon Font (Calcite theme)</a>
            </li>
            <li>
                <a href="https://developers.google.com/chart/interactive/docs/reference">
                    Google Visualization API Reference
                </a>
            </li>
            <li>
                <a href="https://developers.google.com/chart/interactive/docs/gallery/table">
                    Google Visualization: Table Charts
                </a>
            </li>
            <li>
                <a href="https://developers.arcgis.com/javascript/latest/sample-code/intro-layers/index.html">
                    Intro to layers
                </a> (Tile:
                <a href="https://server.arcgisonline.com/ArcGIS/rest/services/Reference/World_Transportation/MapServer">
                    transportationLayer
                </a>)
            </li>
            <li>
                <a href="https://developers.arcgis.com/javascript/latest/sample-code/layers-geojson/index.html">
                    GeoJSONLayer
                </a> 2019-10-10
            </li>
            <li>
                <a href="https://developers.arcgis.com/javascript/latest/sample-code/layers-csv-projection/index.html">
                    CSVLayer - Project points on the fly
                </a> 2019-10-10
            </li>
            <li>
                <a href="https://developers.arcgis.com/javascript/latest/sample-code/layers-featurelayer/index.html">
                    Intro to FeatureLayer
                </a> 2019-10-10
                <a href="https://developers.arcgis.com/javascript/latest/api-reference/esri-layers-FeatureLayer.html">
                    FeatureLayer
                </a>
                <a href="https://developers.arcgis.com/javascript/latest/api-reference/esri-views-layers-FeatureLayerView.html#properties-summary">
                    FeatureLayerView
                </a>
            </li>
            <li>
                <a href="https://developers.arcgis.com/javascript/latest/sample-code/tasks-identify/index.html">
                    IdentifyTask
                </a> for adding map service (map-image layer) and Point Info tool. 2019-10-11
            </li>
            <li>
                <a href="https://developers.arcgis.com/javascript/latest/guide/release-notes/">
                    JS API 4.13
                </a> OCT update replaced v4.12. 2019-10-11
            </li>
            <li>
                <a href="https://developers.arcgis.com/javascript/latest/sample-code/layers-mapimagelayer/index.html">
                    Intro to MapImageLayer
                </a> 2019-10-14; include 3d scene view.
                <a href="https://developers.arcgis.com/javascript/latest/api-reference/esri-layers-MapImageLayer.html">
                    MapImageLayer
                </a>.
                <a href="https://developers.arcgis.com/javascript/latest/api-reference/esri-layers-MapImageLayer.html#createServiceSublayers">createServiceSublayers</a>
            </li>
            <li>
                <a href="https://developers.arcgis.com/javascript/latest/sample-code/layers-mapimagelayer-sublayers/index.html">MapImageLayer - Toggle sublayer visibility</a>
            </li>
            <li class="doing">
                <a href="https://developers.arcgis.com/javascript/latest/sample-code/editing-applyedits/index.html">Update FeatureLayer using</a>
                <a href="https://developers.arcgis.com/javascript/latest/api-reference/esri-layers-FeatureLayer.html#applyEdits">applyEdits</a>
            </li>
            <li>
                <a href="https://developers.arcgis.com/javascript/latest/api-reference/esri-tasks-support-Query.html">Query</a> check latest code samples 2019-11-07
            </li>
            <li>
                <a href="https://developers.arcgis.com/javascript/latest/sample-code/tasks-query/index.html">
                    QueryTask
                </a> sample
            </li>
            <li>
                <a href="https://developers.arcgis.com/javascript/latest/sample-code/featurelayer-query/index.html">
                    Query features from a FeatureLayer
                </a>
                <b class="todo">
                    use this technique for querying feature
                    layer with layer filter applied
                </b>
            </li>
            <li>
                <a href="https://developers.arcgis.com/javascript/latest/sample-code/editing-applyedits/index.html">
                    Update FeatureLayer using applyEdits()
                </a> sample
            </li>
            <li>
                <a href="https://developers.arcgis.com/javascript/latest/api-reference/esri-core-workers.html">workers</a>
            </li>
            <li>
                <a href="https://developers.arcgis.com/javascript/latest/api-reference/esri-config.html">esriConfig</a>
            </li>
            <li>
                <a href="https://www.w3schools.com/html/html5_webworkers.asp">HTML5 Web Workers</a>
            </li>
            <li>
                <a href="https://www.html5rocks.com/en/tutorials/workers/basics/"></a>
            </li>
        </ol>
        <h2>
            Code Recipes
        </h2>
        <ol>
            <li>
                Set map image layer opacity after the layer has loaded in
                <code>layer.when(fxn)</code>
            </li>
            <li>
                <h3>Filter Layer</h3>
                <ol>
                    <li>
                        <a href="https://developers.arcgis.com/javascript/latest/sample-code/featurefilter-attributes/index.html">
                            Filter features by attribute sample
                        </a>
                    </li>
                    <li>
                        <a href="https://developers.arcgis.com/javascript/latest/sample-code/layers-scenelayer-feature-masking/index.html">
                            Filter features by geometry with SceneLayer
                        </a>
                    </li>
                    <li>
                        Get a featureLayer's layerView dynamically selected by
                        <pre>if (activeLayer.type === 'feature') {
    activeLayerView = mapview.layerViews.find(function (layerView) {
        return layerView.layer.id === urid;
    });
}</pre>
                    </li>
                </ol>
            </li>
            <li>
                Key value used to built a series of UI elements in a loop
                cannot be dynamically accessed inside an embedded function
                because it will always be the last key. Unique id or value
                related to the element must be extracted from the element
                attributes.
            </li>
            <li>
                On click event handler on a parent node dynamically built
                must not be attributed by .onclick but coded by
                <code>element.addEventListener(event, function, useCapture)</code>
                where userCapture is false so the handler is fired only once
                on bubbling up from child nodes.
                <p>
                    Even more tricky is if hidden radio inputs are used to
                    keep selected value for app. In a LI/LABEL-for-INPUT[radio] set
                    of nodes, the LABEL will also click depending on whether
                    user clicked on it when clicks the LI.
                </p>
            </li>
            <li></li>
        </ol>
        <h3>
            Tips and Tricks Learned
        </h3>
        <ol>
            <li>
                Force HTML TABLE cell TD or TH widths require the table css have specific width.
            </li>
            <li>
                To hide long text in HTML TABLE cell only works if css for TD has
                <code>{white-space: nowrap; overflow: hidden; text-overflow: ellipsis;}</code>
            </li>
            <li>
                Force HTML TABLE cell to specific height will never work without white-space nowrap
            </li>
            <li>
                OBJECTID formatted to HTML required configuration option allowHtml to true
                and specify {v: val, f: fval}
            </li>
            <li>
                Date value displays more easily as string in Gtable than make new Date object.
            </li>
            <li>
                Adding span as block inside table cell (TD) can fixed the cell height and width (?)
                but when applied to header cell (TH) it shrinks the padding instead?
            </li>
        </ol>
        <h2>
            Fails and Issues
        </h2>
        <ol>
            <li>
                JS new syntax <code>tag.onload = () => callback(args)</code> function notation
                fails IE.
            </li>
            <li>
                JS loop syntax <code>for (var x of document.getElementsByClassName(y))</code>
                fails in IE and Edge.
            </li>
            <li>
                Edit feature must have correct field name or will not work.
                Edit feature can have null geometry.
                Fields not specified in the inpu edit feature will not be changed
                and will keep their existing values. 2019-10-23
            </li>
            <li>
                Dynamically loading amd.js (the required fxn) does not
                automatically refreshes all the internal modules called
                and the latest edits to the AMD modules code.
            </li>
            <li>
                <code>mapview.goTo(sublayer.fullExtent)</code>
                does not work since sublayer extent unknown for raster layers
                under a dynamic map service.
            </li>
            <li>
                How to remove the default thousand separator on long integers in a
                Google Chart table cell?
                To have to set
                <a href="https://developers.google.com/chart/interactive/docs/reference#formatters">
                    formatters
                </a> on specific column would be very tidious; so tried
                <a href="https://developers.google.com/chart/interactive/docs/basic_load_libs#loadwithlocale">
                    language setting
                </a> like
                <code>google.charts.load('current', { 'packages': ['table'], 'language': null });</code>
                but it did not work.
            </li>
        </ol>
        <h2>
            Solutions
        </h2>
        <ol>
            <li>how to
                <a href="https://pro.arcgis.com/en/pro-app/help/sharing/overview/publish-a-map-service.htm">
                    Publish a map service
                </a> from ArcGIS Pro 2.3+ to standalone ArcGIS Server 10.6+
            </li>
            <li>
                <a href="https://community.esri.com/ideas/13902-publish-related-tables-from-arcgis-pro-201">
                    Publish Related Tables in ArcGIS Pro - Documentation
                </a> idea proposed due to this question
                <a href="https://community.esri.com/thread/198458-publish-hosted-feature-service-with-related-tables-wont-work-with-arcgis-pro-20">
                    Publish hosted feature service with related tables - Won't work with ArcGIS Pro
                </a>
            </li>
            <li class="todo">
                <a href="https://developers.arcgis.com/javascript/latest/api-reference/esri-views-MapView.html#toMap">view.toMap(mouseEvent)</a> method convenient for Identify tool
            </li>
            <li>
                <a href="https://developers.arcgis.com/javascript/latest/api-reference/esri-views-MapView.html#goTo">
                    MapView.goTo(target)
                </a>
            </li>
            <li>
                <a href="https://developers.arcgis.com/javascript/latest/api-reference/esri-views-MapView.html#layerViews">
                    MapView.layerViews
                </a>
                <a href="https://developers.arcgis.com/javascript/latest/api-reference/esri-core-Collection.html#methods-summary">
                    Collection
                </a> stores all
                <a href="https://developers.arcgis.com/javascript/latest/api-reference/esri-views-layers-LayerView.html">
                    LayerView
                </a>s of the operational layers of the map. So we can
                <a href="https://developers.arcgis.com/javascript/latest/api-reference/esri-core-Collection.html#find">
                    find
                </a> the activeLayerView in this collection.
            </li>
            <li>
                <a href="https://developers.arcgis.com/javascript/latest/api-reference/esri-views-SceneView.html#layerViews">
                    SceneView.layerViews
                </a> collection
            </li>
            <li class="todo">
                <a href="https://codepen.io/tjvantoll/pen/JEKIu">Fixed Table Header</a>
                code sample
            </li>
        </ol>
        <h2>
            To-Do List
        </h2>
        <ol class="todo">
            <li>
                <a href="https://developers.arcgis.com/javascript/latest/api-reference/esri-widgets-Bookmarks-BookmarksViewModel.html">
                    BookmarksViewModel
                </a>
            </li>
            <li>
                <a href="https://www.esri.com/en-us/arcgis/products/arcgis-experience-builder/overview">
                    ArcGIS Experience Builder
                </a>
                <a href="https://experience.arcgis.com/stemapp/aa3bec379e374bb184b73c25caeb780f">sample</a>
            </li>
        </ol>
        <h2>
            Web References and Help
        </h2>
        <ol>
            <li>
                <a href="https://css-tricks.com/snippets/css/a-guide-to-flexbox/">
                    A Complete Guide to Flexbox
                </a>
            </li>
            <li>
                <a href="https://stackoverflow.com/questions/190396/adding-html-entities-using-css-content">
                    HTML entities in CSS::before content
                </a>
            </li>
            <li>
                <a href="https://dev.w3.org/html5/html-author/charref"></a>
            </li>
            <li>
                <a href="https://docs.microsoft.com/en-us/sql/odbc/microsoft/column-name-limitations?view=sql-server-2017">
                    MS SQL Column Name Limitations
                </a>
            </li>
            <li>
                <a href="https://developers.arcgis.com/javascript/latest/api-reference/esri-layers-support-Field.html#type">
                    Esri JSAPI Field Types
                </a>
                <code>small-integer | integer | single | double | long | string | date | oid | geometry | blob | raster | guid | global-id | xml</code>
            </li>
            <li>
                <a href="https://www.w3schools.com/charsets/ref_utf_dingbats.asp">
                    UTF-8 Dingbats
                </a> Characters
            </li>
            <li>
                <a href="https://www.w3schools.com/icons/default.asp" title="Icons Tutorial"></a>
                <a href="https://www.w3schools.com/icons/icons_reference.asp" title="Icons Reference"></a>
                <a href="https://www.w3schools.com/icons/fontawesome5_intro.asp">Font Awesome 5 Introduction</a>
            </li>
            <li>
                <a href="http://www.alanwood.net/unicode/index.html">Alan Wood’s Unicode Resources</a>
                Test for Unicode support in Web browsers
                <a href="http://www.alanwood.net/unicode/miscellaneous_symbols.html">Miscellaneous Symbols</a>
            </li>
            <li>
                <a href="https://www.alt-codes.net/copyright_alt_code.php">Alt-Codes</a>
                Copyright symbol: Alt+0169 on Windows; Mac: Opt+g
            </li>
            <li>
                <a href="https://www.w3schools.com/TAGs/tag_output.asp">html5 output tag</a>
            </li>
            <li>
                <a href="https://www.w3schools.com/howto/howto_js_trigger_button_enter.asp"></a>
            </li>
            <li>
                <a href="https://javascript.info/callbacks"></a>
            </li>
            <li>
                <a href="https://www.w3schools.com/js/js_date_formats.asp">JavaScript Date Formats</a>,
                <a href="https://www.w3schools.com/jsref/jsref_obj_date.asp">JavaScript Date Reference</a>
            </li>
        </ol>
    </main>
    <footer>
        <a href="biosgis@gmail.com">biosgis</a>
        <script>
            document.write('&copy; ' + document.lastModified);
            document.write(' &rect; Window Size: ' + window.innerWidth + 'x' + window.innerHeight);
            document.write(' &marker; Screen Size: ' + window.screen.width + 'x' + window.screen.height);
            document.write(' &diams; Browser Client: ' + navigator.userAgent + ' on ' + navigator.platform);
            document.write(' &bull; URL Referer: ' + document.referrer);

        </script>
        <a href="./m.html" style="text-decoration: none; color: silver;" target="_blank">&square;</a>
        Build on
        <a href="https://developers.arcgis.com/javascript/">esri-arcgis-jsapi</a>
    </footer>
</body>

</html>
