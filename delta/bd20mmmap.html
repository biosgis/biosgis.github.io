<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
<head>
    <title>20mm Fish Distribution</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="application-name" content="bdmap">
    <meta name="author" content="dchiang">
    <meta name="description" content="CDFW Bay Delta Region fish survey and study">
    <meta name="keywords" content="bios, baydelta fish distribution">
    <meta name="generator" content="imaps-20170608-delta">
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="https://js.arcgis.com/4.7/esri/css/main.css">
    <script src="https://js.arcgis.com/4.7/"></script>
    <style>
        body {
            font-family: Arial;
        }
        footer {
            border-top: 1px solid silver;
            margin-top: 40px;
            padding: 2px 40px;
            position: relative; bottom: 0;
            width: 100%;
        }
        input {
            font-size: 100%;
        }
        table {
            border-collapse: collapse;
        }
        th {
            text-align: left;
        }
        #mapp-title {
            position: absolute;
            top: 0;
        }
        .mapview {
            border: 1px solid silver;
            height: 70%;
            left: 0;
            padding: 0;
            position: absolute;
            top: 10%;
            width: 70%;
        }
        #bottombar {
            position: fixed;
            bottom: 0;
        }
        #app-build {
            position: fixed; bottom: 0; right: 40px;
            float: right;
            background-color: darkslategray;
            color: white;
            font-family: 'Comic Sans MS', 'Lucida Console';
            font-size: small;
            padding: 2px;
            z-index: 500;
        }
        #databar {
            position: relative; /* TODO: left: 0; top: 550px; */
            padding: 5px;
        }
        #msgbin {
            position: fixed; bottom: 0; right: 0;
            height: 50%; width: 50%;
            background-color: black;
            border: 2px solid silver;
            border-radius: 3px;
            color: white;
            font-family: Consolas, Courier New, Courier, monospace;
            font-size: 100%;
            overflow: hidden;
            padding: 5px;
            z-index: 888;
        }
        #msgbin-toggle {
            position: fixed; bottom: 0; right: 0;
            float: right;
            font-weight: bold;
            z-index: 888;
        }
        #msgbox {
            position: relative; bottom: 5px;
            max-height: 90%;
            overflow: auto;
        }
        #mapvprop {
            background-color: white;
            border: 1px solid silver;
            max-height: 50%; max-width: 50%;
            opacity: 0.88;
            padding: 2px;
            position: fixed; bottom: 0; left: 0;
        }
        .closebutton {
            position: absolute; top: 1px; right: 1px;
            border: 1px solid transparent;
            cursor: default;
            font-size: 110%;
            /*float: right;*/
            padding: 5px;
            top: 2px;
        }
        .closebutton:hover {
            background-color: azure;
            border: 1px solid silver;
        }
        .panel {
            background-color: white;
            border: 1px solid silver;
            opacity: 0.88;
        }
        .tablr {
            background-color: white;
            border: 1px solid silver;
            border-collapse: collapse;
        }
        .thd {
            border: 1px solid silver;
            padding: 5px;
        }
        .hide {
            display: none;
        }
    </style>
    <script src="js/bd20mm.js"></script>
    <script>DEFAULT_PAGE = "bd20mmmap.html"</script>
    <script type="text/javascript">
        vn = "20170608";
        hotfixflag = "";
        hotVersion = vn.substr(3, 1) + "." + parseInt(vn.substr(4, 2)) + "." + vn.substr(6, 2) + hotfixflag;
        msglog.push("avn=" + avn + ", vn=" + parseInt(vn));
        if (avn <= parseInt(vn)) {
            appVersion = hotVersion;
        } else {
            vn = avn;
        }
        function addmsg(msg) {
            $('msgbox').innerHTML += msg + "<br />";
        }
        function onPageLoad() {
            console.log("Window onload called onPageLoad");
            //if (google.visualization) {
            //    console.log('google.visualization property exists');
            //}
            var tags = document.getElementsByTagName("meta");
            for (var i = 0; i < tags.length; i++) {
                if (tags[i].name == "generator") {
                    tags[i].content = "imaps-" + vn + "-skt";
                    document.getElementById("app-build").innerHTML = "v" + vn;
                    document.getElementById("msgbin-toggle").title = "v" + vn;
                    document.getElementById("app-version").innerHTML += "v" + appVersion;
                }
            }
            for (var j = 0; j < msglog.length; j++) {
                addmsg(msglog[j]);
            }
        }
        window.onload = onPageLoad;
    </script>
</head>
<body>
    <h3 style="color: gainsboro; margin: 1px; padding: 1px;">
        20mm Survey Fish Distribution Map
    </h3>
    <div id="mapp-tools">
        <table class="tablr" border="1" cellpadding="5" cellspacing="0">
            <tr style="background-color: whitesmoke; text-align: center;">
                <th>SELECT SPECIES</th>
                <th>YEAR</th>
                <th>SURVEY</th>
                <th style="background-color: white;">
                    <label for="showlabels">
                        View Station ID
                    </label>&nbsp;
                    <input type="checkbox" id="showlabels" />
                </th>
                <th>
                    &nbsp;
                </th>
            </tr>
            <tr>
                <td>
                    <select id="species">
                        <option value="5">American Shad</option>
                        <option value="13">Arrow Goby</option>
                        <option value="59">Bay Goby</option>
                        <option value="35">Bay Pipefish</option>
                        <option value="44">Bigscale Logperch</option>
                        <option value="18">Black Bullhead</option>
                        <option value="41">Black Crappie</option>
                        <option value="7105">Blue Catfish</option>
                        <option value="38">Bluegill Sunfish</option>
                        <option value="54">Brown Bullhead</option>
                        <option value="96">Brown Rockfish</option>
                        <option value="76">California Tonguefish</option>
                        <option value="26">Carp</option>
                        <option value="7">Catfish (Unid)</option>
                        <option value="36">Centrarchids (Unid)</option>
                        <option value="58">Chameleon Goby</option>
                        <option value="9">Channel Catfish</option>
                        <option value="70">Cheekspot Goby</option>
                        <option value="15">Chinook Salmon</option>
                        <option value="24">Cyprinids (Unid)</option>
                        <option value="3" selected="selected">Delta Smelt</option>
                        <option value="83">English Sole</option>
                        <option value="73">Fathead Minnow</option>
                        <option value="84">Flatfish (Unid)</option>
                        <option value="11">Gobies (Unid)</option>
                        <option value="25">Golden Shiner</option>
                        <option value="27">Goldfish</option>
                        <option value="23">Green Sturgeon</option>
                        <option value="37">Green Sunfish</option>
                        <option value="29">Hardhead</option>
                        <option value="4">Herring (Unid)</option>
                        <option value="57">Hitch</option>
                        <option value="53">Inland Silverside</option>
                        <option value="34">Jacksmelt</option>
                        <option value="60">Lampreys (Unid)</option>
                        <option value="39">Largemouth Bass</option>
                        <option value="2">Longfin Smelt</option>
                        <option value="69">Longjaw Mudsucker</option>
                        <option value="2775">Monkeyface Prickleback</option>
                        <option value="31">Mosquitofish</option>
                        <option value="14">Northern Anchovy</option>
                        <option value="52">Pacific Herring</option>
                        <option value="61">Pacific Lamprey</option>
                        <option value="48">Pacific Staghorn Sculpin</option>
                        <option value="2826">Penpoint Gunnel</option>
                        <option value="43">Perches (Unid)</option>
                        <option value="50">Plainfin Midshipman</option>
                        <option value="2813">Prickleback spp.</option>
                        <option value="49">Prickly Sculpin</option>
                        <option value="65">Rainwater Killifish</option>
                        <option value="72">Red Shiner</option>
                        <option value="56">Redear Sunfish</option>
                        <option value="62">River Lamprey</option>
                        <option value="71">Sacramento Blackfish</option>
                        <option value="42">Sacramento Perch</option>
                        <option value="30">Sacramento Pikeminnow</option>
                        <option value="64">Sacramento Sucker</option>
                        <option value="2829">Saddleback Gunnel</option>
                        <option value="63">Sculpins (Unid)</option>
                        <option value="66">Shimofuri Goby</option>
                        <option value="47">Shiner Perch</option>
                        <option value="74">Shokihaze Goby</option>
                        <option value="32">Silversides (Unid)</option>
                        <option value="68">Smallmouth Bass</option>
                        <option value="1">Smelt (Unid)</option>
                        <option value="80">Speckled Sanddab</option>
                        <option value="28">Splittail</option>
                        <option value="19">Starry Flounder</option>
                        <option value="55">Steelhead</option>
                        <option value="0">Striped Bass</option>
                        <option value="21">Sturgeon (Unid)</option>
                        <option value="45">Surfperches (Unid)</option>
                        <option value="6">Threadfin Shad</option>
                        <option value="20">Three Spine Stickleback</option>
                        <option value="12">Tidewater Goby</option>
                        <option value="33">Topsmelt</option>
                        <option value="75">Tridentiger spp.</option>
                        <option value="46">Tule Perch</option>
                        <option value="3127">Unid Flounder</option>
                        <option value="99">Unknown</option>
                        <option value="67">Wakasagi</option>
                        <option value="17">Warmouth</option>
                        <option value="8">White Catfish</option>
                        <option value="40">White Crappie</option>
                        <option value="51">White Croaker</option>
                        <option value="22">White Sturgeon</option>
                        <option value="10">Yellowfin Goby</option>
                    </select>
                </td>
                <td>
                    <select id="year">
                        <option value="2017" selected="selected">2017</option>
                        <option value="2016">2016</option>
                        <option value="2015">2015</option>
                        <option value="2014">2014</option>
                        <option value="2013">2013</option>
                        <option value="2012">2012</option>
                        <option value="2011">2011</option>
                        <option value="2010">2010</option>
                        <option value="2009">2009</option>
                        <option value="2008">2008</option>
                        <option value="2007">2007</option>
                        <option value="2006">2006</option>
                        <option value="2005">2005</option>
                        <option value="2004">2004</option>
                        <option value="2003">2003</option>
                        <option value="2002">2002</option>
                        <option value="2001">2001</option>
                        <option value="2000">2000</option>
                        <option value="1999">1999</option>
                        <option value="1998">1998</option>
                        <option value="1997">1997</option>
                        <option value="1996">1996</option>
                        <option value="1995">1995</option>
                    </select>
                </td>
                <td>
                    <select id="survey">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6" selected="selected">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                    </select>
                </td>
                <td>
                    <label for="showpct" style="font-weight: bold;">
                        View Percentages
                    </label>
                    <input type="checkbox" id="showpct" />
                </td>
                <td>
                    <input type="button" id="draw_map" value="Draw Map" />
                </td>
            </tr>
        </table>
    </div>
    <div id="mapview" style="border: 1px solid silver; float: left; height: 500px; width: 70%;"></div>
    <div id="legend-view" style="border: 1px solid silver; float: left; height: 500px; max-width: 25%;">
        <h4 style="border-bottom: 1px solid silver; margin: 1px; padding: 1px;">
            Legend
        </h4>
        <div id="map-legend"></div>
    </div>
    <div id="mapp-msg" style="clear: both; display: block; float: none;"></div>
    <div id="mapp-result" style="border-top: 0px solid silver; margin: 5px 2px;">
        <h3 id="result-title"></h3>
        <div id="result-box"></div>
    </div>
    <div id="databar" style="display: none;">
        <div id="data-title">
            <b class="large">
                20-mm Survey
                #<span id="survey">1</span> of
                <span id="surveyyear">2016</span>
            </b>
            <b class="dim">
                Distribution of 
                <span id="species">Delta Smelt</span>&nbsp;
                <span id="dates"></span>
            </b>
        </div>
        <div id="data-msg" style="color: steelblue; font-style: italic; font-size: large; font-weight: bold;"></div>
        <div id="charts"></div>
        <div style="clear: both;"></div>
        <div id="tables"></div>
    </div>
    <footer>
        <i id="app-version" style="float: left; margin-right: 20px;"></i> | 
        <a href="http://www.dfg.ca.gov/delta/data/20mm/CPUE_map.asp" target="_blank">Original page</a> |
        <b style="float: right; font-family: monospace; margin-right: 40px;">
            <a href="mail:bios@wildlife.ca.gov">bios@wildlife.ca.gov</a>
            &copy;
            <script>
                    document.write(document.lastModified);
            </script>
        </b>
    </footer>
    <input id="mapvprop-toggle" type="button" value="&rect;" onclick="toggle('mapvprop')" style="position: fixed; bottom: 0; left: 0; z-index: 444; display: none;" />
    <div id="mapvprop" style="display: none;">
        <h3 style="border-bottom: 1px solid silver; margin: 1px; padding: 1px;">
            Map View Properties
        </h3>
        <table>
            <tr>
                <th><label>Basemap=</label></th>
                <td><span id="basemap-title"></span></td>
            </tr>
            <tr>
                <th><label>Map center Latitude, Longitude=</label></th>
                <td><span id="map-latlon"></span></td>
            </tr>
            <tr>
                <th><label>Map center X, Y, WKID=</label></th>
                <td>
                    <span id="map-x"></span>,
                    <span id="map-y"></span>,
                    <span id="map-wkid"></span>
                </td>
            </tr>
            <tr>
                <th><label>Map click lat, lon=</label></th>
                <td><span id="map-pll"></span></td>
            </tr>
            <tr>
                <th><label>Map click X, Y=</label></th>
                <td><span id="map-pxy"></span></td>
            </tr>
            <tr>
                <th><label>Map scale=1:</label></th>
                <td><span id="map-scale"></span></td>
            </tr>
            <tr>
                <th><label>Map zoom level=</label></th>
                <td><span id="map-zoomlevel"></span></td>
            </tr>
            <tr>
                <th><label>Map extent (xmin, ymin, xmax, ymax)=</label></th>
                <td><span id="map-extent"></span></td>
            </tr>
        </table>
        <span class="esri-icon-close closebutton" onclick="this.parentNode.style.display='none'"></span>
    </div>
    <div id="msgbin" class="panel" style="display: none;">
        <h3 style="border-bottom: 1px solid silver; margin: 5px; padding: 1px;">
            Messages (bios &copy;
            <script>
                document.write(document.lastModified);
            </script>)
        </h3>
        <span class="esri-icon-close closebutton" onclick="this.parentNode.style.display='none'"></span>
        <div id="msgbox">

        </div>
    </div>
    <a id="app-build" style="display: none;">imaps6</a>
    <input type="button" id="msgbin-toggle" value="&boxbox;" onclick="toggle('msgbin')" onmouseover="show('app-build')" onmouseout="hide('app-build')" title="&rtriltri;" style="display: none;" />
</body>
</html>
